(this.webpackJsonpcarsharing=this.webpackJsonpcarsharing||[]).push([[0],{166:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},239:function(e,t,n){},246:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(32),r=n.n(a),i=(n(166),n(167),n(278)),s=n(82),o=n(46),u=(n(168),n(27)),l=n(128),d=n(285),j=n(158),b=n(288),O=n(289),h=n(41),f=n(290),p=n(291),m=n(292),v=(n(169),n(5)),x=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(u.a)(r,2),o=s[0],x=s[1],g=l.a.useBreakpoint();return Object(c.useEffect)((function(){x(!0),g.xs&&x(!1)}),[g]),Object(v.jsx)(i.a.Sider,{collapsed:n,collapsedWidth:"60px",width:"100%",className:"sideMenu",children:Object(v.jsxs)(d.a,{theme:"dark",className:n?"closedSideMenu":"openedSideMenu",children:[Object(v.jsx)(j.a,{icon:n?Object(v.jsx)(O.a,{}):Object(v.jsx)(h.a,{}),onClick:function(){a(!n)}}),!n&&Object(v.jsxs)(d.a.ItemGroup,{children:[Object(v.jsx)(d.a.Item,{className:"menuItem",children:"\u041f\u0430\u0440\u043a\u043e\u0432\u043a\u0430"},"1"),Object(v.jsx)(d.a.Item,{className:"menuItem",children:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430"},"2"),Object(v.jsx)(d.a.Item,{className:"menuItem",children:"\u0411\u0435\u043d\u0437\u0438\u043d"},"3"),Object(v.jsx)(d.a.Item,{className:"menuItem",children:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"},"4"),Object(v.jsxs)(b.b,{className:"socialGroup",children:[Object(v.jsx)(f.a,{className:"menuItem"}),Object(v.jsx)(p.a,{className:"menuItem"}),Object(v.jsx)(m.a,{className:"menuItem"})]})]}),(o||!n)&&Object(v.jsx)(j.a,{shape:"circle",className:"langChanger",children:"Eng"})]})})},g=n(284),C=(n(239),function(){var e=Object(c.useState)("50%"),t=Object(u.a)(e,2),n=t[0],a=t[1],r=l.a.useBreakpoint(),o=Object(c.createRef)();return Object(c.useEffect)((function(){r.xl?a("50%"):r.lg&&a("35%")}),[r]),r.lg?Object(v.jsxs)(i.a.Sider,{collapsed:!0,collapsedWidth:n,className:"sliderSider",children:[Object(v.jsxs)(g.a,{autoplay:!0,ref:o,children:[Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"slide slide1",children:Object(v.jsxs)("div",{className:"slideContent",children:[Object(v.jsx)("h1",{className:"sliderTitle",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430"}),Object(v.jsx)("p",{className:"sliderText",children:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445"}),Object(v.jsx)("button",{className:"defaultButton mainPageDescButton buttonGreenGradient",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})})}),Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"slide slide2",children:Object(v.jsxs)("div",{className:"slideContent",children:[Object(v.jsx)("h1",{className:"sliderTitle",children:"C\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430"}),Object(v.jsx)("p",{className:"sliderText",children:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(v.jsx)("button",{className:"defaultButton mainPageDescButton buttonBlueGradient",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})})}),Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"slide slide3",children:Object(v.jsxs)("div",{className:"slideContent",children:[Object(v.jsx)("h1",{className:"sliderTitle",children:"\u0411\u0435\u043d\u0437\u0438\u043d"}),Object(v.jsx)("p",{className:"sliderText",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442"}),Object(v.jsx)("button",{className:"defaultButton mainPageDescButton buttonRedGradient",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})})}),Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"slide slide4",children:Object(v.jsxs)("div",{className:"slideContent",children:[Object(v.jsx)("h1",{className:"sliderTitle",children:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"}),Object(v.jsx)("p",{className:"sliderText",children:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e"}),Object(v.jsx)("button",{className:"defaultButton mainPageDescButton buttonPurpleGradient",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})})})]}),Object(v.jsx)(j.a,{className:"sliderSwitch leftSliderSwitch",onClick:function(){return o.current.prev()},children:"\u2039"}),Object(v.jsx)(j.a,{className:"sliderSwitch rightSliderSwitch",onClick:function(){return o.current.next()},children:"\u203a"})]}):Object(v.jsx)(v.Fragment,{})}),N=n(293),y=(n(246),function(){return Object(v.jsx)(i.a.Header,{className:"mainPageHeader",children:Object(v.jsxs)(s.a,{justify:"end",align:"middle",children:[Object(v.jsx)(o.a,{md:{offset:2,span:8},lg:{span:10},xl:{span:10},children:Object(v.jsx)("div",{className:"mainPageCompany",children:"Need For Drive"})}),Object(v.jsx)(o.a,{xs:{offset:2},md:{offset:10,span:4},lg:{offset:8},xl:{offset:8},children:Object(v.jsxs)("div",{className:"cityContent",children:[Object(v.jsx)(N.a,{className:"locationIcon"}),Object(v.jsx)("div",{className:"cityText",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"})]})})]})})}),E=n(70),T=i.a.Content,P=i.a.Footer,S=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(x,{}),Object(v.jsxs)(i.a,{className:"site-layout",children:[Object(v.jsx)(y,{}),Object(v.jsx)(T,{className:"site-layout-background",children:Object(v.jsxs)("div",{className:"mainPageContent",children:[Object(v.jsx)("h1",{className:"mainPageCompanyTitleOne",children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(v.jsx)("p",{className:"mainPageCompanyTitleTwo",children:"Need For Drive"}),Object(v.jsx)("p",{className:"mainPageCompanySlogan",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(v.jsx)(E.b,{to:"/orderPage",children:Object(v.jsx)("button",{className:"defaultButton mainPageToBookButton",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})}),Object(v.jsx)(P,{className:"mainPageFooter",children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(o.a,{xs:{offset:6,span:22},md:{offset:2,span:8},lg:{span:11},xl:{span:8},children:Object(v.jsx)("div",{children:"\xa9 2016-2019 \xabNeed for drive\xbb"})}),Object(v.jsx)(o.a,{xs:{offset:14,span:14},md:{offset:9,span:5},lg:{offset:6},xl:{offset:9},children:Object(v.jsx)("div",{className:"phone",children:"8 (495) 234-22-44"})})]})})]}),Object(v.jsx)(C,{})]})},D=n(28),I=n(283),k=(n(250),n(282)),q=(n(251),n(11)),w=n(117),R=(n(252),n(22)),A=n(20),U=n.n(A),_=n(30),B=function(e,t){return{type:"CHEQUE/UPDATE_CHEQUEPOINT",payload:{city:e,address:t}}},F=function(e){return{type:"CHEQUE/UPDATE_CAR",payload:e}},H=function(e){return{type:"CHEQUE/UPDATE_TARIFF",payload:e}},G=function(e){return{type:"CHEQUE/UPDATE_COLOR",payload:e}},L=function(e){return{type:"CHEQUE/UPDATE_DATE",payload:e}},Q=function(e){return{type:"CHEQUE/TOGGLE_TANK",payload:e}},M=function(e){return{type:"CHEQUE/TOGGLE_CHILD_CHAIR",payload:e}},W=function(e){return{type:"CHEQUE/TOGGLE_RIGHT_WHEEL",payload:e}},V=function(e){return{type:"CHEQUE/SET_ORDER",payload:e}},z=n(152),J=n.n(z).a.create({baseURL:"https://api-factory.simbirsoft1.com/api",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),K=function(){return J.get("db/city").then((function(e){return e.data.data}))},Z=function(){return J.get("db/point").then((function(e){return e.data.data}))},X=function(){return J.get("db/car").then((function(e){return e.data.data}))},Y=function(){return J.get("db/category").then((function(e){return e.data.data}))},$=function(){return J.get("db/rate").then((function(e){return e.data.data}))},ee=function(e){var t=JSON.stringify(e);return J.post("db/order",t)},te=function(e){return J.get("db/order/".concat(e)).then((function(e){return e.data.data}))},ne={chequeData:{city:null,address:null,car:null,color:null,date:null,tariff:null,isFullTank:!1,isNeedChildChair:!1,isRightWheel:!1},chequePrices:{carPrice:0,tankPrice:0,childChairPrice:0,rightWheelPrice:0},order:null},ce=function(e,t){return function(){var n=Object(_.a)(U.a.mark((function n(c){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c(B(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(e);case 2:c=t.sent,n(V(c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHEQUE/UPDATE_PRICE":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{price:e.chequeData.price+t.payload})});case"CHEQUE/UPDATE_CHEQUEPOINT":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{city:t.payload.city,address:t.payload.address})});case"CHEQUE/UPDATE_CAR":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{car:t.payload}),chequePrices:Object(q.a)(Object(q.a)({},e.chequePrices),{},{carPrice:t.payload.priceMin})});case"CHEQUE/UPDATE_TARIFF":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{tariff:t.payload})});case"CHEQUE/UPDATE_COLOR":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{color:t.payload})});case"CHEQUE/UPDATE_DATE":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{date:t.payload})});case"CHEQUE/TOGGLE_TANK":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{isFullTank:!e.chequeData.isFullTank}),chequePrices:Object(q.a)(Object(q.a)({},e.chequePrices),{},{tankPrice:t.payload})});case"CHEQUE/TOGGLE_CHILD_CHAIR":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{isNeedChildChair:!e.chequeData.isNeedChildChair}),chequePrices:Object(q.a)(Object(q.a)({},e.chequePrices),{},{childChairPrice:t.payload})});case"CHEQUE/TOGGLE_RIGHT_WHEEL":return Object(q.a)(Object(q.a)({},e),{},{chequeData:Object(q.a)(Object(q.a)({},e.chequeData),{},{isRightWheel:!e.chequeData.isRightWheel}),chequePrices:Object(q.a)(Object(q.a)({},e.chequePrices),{},{rightWheelPrice:t.payload})});case"CHEQUE/SET_ORDER":return Object(q.a)(Object(q.a)({},e),{},{order:t.payload});default:return e}},ie=function(e){var t=e.points,n=e.cityValue,a=e.pointValue,r=Object(c.useState)([]),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(null),d=Object(u.a)(l,2),j=d[0],b=d[1],O=Object(c.useState)([45.053424,38.967237]),h=Object(u.a)(O,2),f=h[0],p=h[1],m=Object(c.useState)(0),x=Object(u.a)(m,2),g=x[0],C=x[1],N=Object(c.useRef)(),y=Object(R.b)();Object(c.useEffect)((function(){(null===n||void 0===n?void 0:n.name)&&(null===j||void 0===j||j.geocode(null===n||void 0===n?void 0:n.name).then((function(e){p(e.geoObjects.get(0).geometry.getCoordinates())})))}),[n]),Object(c.useEffect)((function(){(null===a||void 0===a?void 0:a.address)&&(null===j||void 0===j||j.geocode((null===a||void 0===a?void 0:a.address)+", "+(null===n||void 0===n?void 0:n.name)).then((function(e){p(e.geoObjects.get(0).geometry.getCoordinates())})))}),[a]),Object(c.useEffect)((function(){E(f)}),[f]),Object(c.useEffect)((function(){for(var e=[],n=function(n){var c;null===j||void 0===j||j.geocode((null===(c=t[n].cityId)||void 0===c?void 0:c.name)+", "+t[n].address).then((function(c){var a=c.geoObjects.get(0).geometry.getCoordinates();e.push(Object(q.a)(Object(q.a)({},t[n]),{},{coordinates:a}))}))},c=0;c<t.length;c++)n(c);o(e),C(0)}),[g]);var E=function(e){var t,n,c;(null===a||void 0===a?void 0:a.address)?null===(n=N.current)||void 0===n||n.setZoom(16,{duration:2e3}):null===(c=N.current)||void 0===c||c.setZoom(11,{duration:2e3});null===(t=N.current)||void 0===t||t.panTo(e)};return Object(v.jsx)(w.c,{query:{lang:"ru_RU",ns:"geocode",apikey:"fc475af3-70e8-49b3-b7fe-ddca506b0367",load:["geocode"]},children:Object(v.jsx)(w.a,{defaultState:{center:[45.053424,38.967237],zoom:11},className:"map",instanceRef:N,onLoad:function(e){b(e),C(1)},children:s.map((function(e,t){return Object(v.jsx)(w.b,{geometry:e.coordinates,onClick:function(){y(ce(n,e))}},t)}))})})},se=function(e){return{type:"LOCATIONS/SET_LOCATIONS",payload:e}},oe=function(e){return{type:"LOCATIONS/SET_POINTS",payload:e}},ue={locations:[],points:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCATIONS/SET_LOCATIONS":return Object(q.a)(Object(q.a)({},e),{},{locations:t.payload});case"LOCATIONS/SET_POINTS":return Object(q.a)(Object(q.a)({},e),{},{points:t.payload});default:return e}},de=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(R.b)(),i=Object(R.c)((function(e){return e.orderPageLocation.locations})),s=Object(R.c)((function(e){return e.orderPageLocation.points})),o=Object(R.c)((function(e){return e.cheque.chequeData})),l=o.city,d=o.address;Object(c.useEffect)((function(){r(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:n=e.sent,t(se(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:n=e.sent,t(oe(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.useEffect)((function(){var e=s.filter((function(e){var t;return(null===(t=e.cityId)||void 0===t?void 0:t.name)===(null===l||void 0===l?void 0:l.name)})).map((function(e){return{value:e.address}}));a(e)}),[l]);var j=i.map((function(e){return{value:e.name}}));return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"locationGroup",children:[Object(v.jsx)("div",{className:"locationItem",children:Object(v.jsxs)(b.b,{children:["\u0413\u043e\u0440\u043e\u0434",Object(v.jsx)(k.a,{className:"autocomplete",allowClear:!0,options:j,value:null===l||void 0===l?void 0:l.name,onChange:function(e){for(var t=0;t<i.length;t++)if(i[t].name===e)return void r(ce(i[t],""));r(ce(e,""))},placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434",filterOption:function(e,t){var n;return-1!==t.value.toUpperCase().indexOf(null===(n=e.name)||void 0===n?void 0:n.toUpperCase())}})]})}),Object(v.jsx)("div",{className:"locationItem",children:Object(v.jsxs)(b.b,{children:["\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",Object(v.jsx)(k.a,{className:"autocomplete",allowClear:!0,options:n,value:null===d||void 0===d?void 0:d.address,onChange:function(e){for(var t=0;t<s.length;t++)if(s[t].address===e)return void r(ce(l,s[t]));r(ce(l,e))},disabled:!(null===l||void 0===l?void 0:l.name)||0===n.length,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442",filterOption:function(e,t){var n;return-1!==t.value.toUpperCase().indexOf(null===(n=e.address)||void 0===n?void 0:n.toUpperCase())}})]})})]}),Object(v.jsx)(ie,{cityValue:l,points:s,pointValue:d})]})},je=(n(270),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=e[1].toDate().getTime()-e[0].toDate().getTime());var n={d:Math.round(t/1e3/60/60/24),h:Math.round(t/1e3/60/60%24),m:Math.round(t/1e3/60%60)};return{timeDif:t,times:n}}),be=(n(271),function(e){var t=e.title,n=e.text,c=e.condition;return Object(v.jsxs)(s.a,{align:"middle",children:[Object(v.jsx)("p",{className:"chequeOption",children:t}),Object(v.jsx)("div",{className:"chequeDots"}),Object(v.jsx)("div",{className:"chequeValue",children:c&&Object(v.jsx)("p",{children:n})})]})}),Oe=function(e){var t=e.currentStep,n=e.updateCurrentStep,c=e.setIsModalOpen,a=e.isDisabled;switch(t){case 0:return Object(v.jsx)("button",{className:"defaultButton orderPageButton",disabled:a,onClick:function(){return n(t+1)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"});case 1:return Object(v.jsx)("button",{className:"defaultButton orderPageButton",disabled:a,onClick:function(){return n(t+1)},children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"});case 2:return Object(v.jsx)("button",{className:"defaultButton orderPageButton",disabled:a,onClick:function(){return n(t+1)},children:"\u0418\u0442\u043e\u0433\u043e"});case 3:return Object(v.jsx)("button",{className:"defaultButton orderPageButton",onClick:function(){return c(!0)},children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"});default:return}},he=function(e){var t=e.currentStep,n=e.updateCurrentStep,a=e.setIsModalOpen,r=e.urlParams,i=Object(c.useState)(null),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(c.useState)(null),j=Object(u.a)(d,2),b=j[0],O=j[1],h=Object(R.c)((function(e){return e.cheque.chequeData})),f=Object(R.c)((function(e){return e.cheque.chequePrices})),p=Object(R.c)((function(e){return e.cheque.order})),m=h.city,x=h.address,g=h.car,C=h.tariff,N=h.color,y=h.date,E=h.isFullTank,T=h.isNeedChildChair,P=h.isRightWheel,S=f.carPrice+f.tankPrice+f.childChairPrice+f.rightWheelPrice+((null===C||void 0===C?void 0:C.price)?C.price:0)*Math.trunc(b/1e3/60),D=(null===p||void 0===p?void 0:p.dateTo)-(null===p||void 0===p?void 0:p.dateFrom);return Object(c.useEffect)((function(){var e={timeDif:0,times:{}};y&&(e=je(y)),p&&(e=je([],D)),O(e.timeDif),l(e.times)}),[y,p]),Object(v.jsxs)("div",{className:"cheque",children:[Object(v.jsx)("b",{className:"chequeTitle",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}),Object(v.jsx)(be,{title:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",text:p?p.cityId.name+", "+p.pointId.address:(null===x||void 0===x?void 0:x.address)+", "+(null===m||void 0===m?void 0:m.name),condition:!!(null===m||void 0===m?void 0:m.name)&&!!(null===x||void 0===x?void 0:x.address)||p}),t>=1&&Object(v.jsx)(be,{title:"\u041c\u043e\u0434\u0435\u043b\u044c",text:(null===g||void 0===g?void 0:g.name)||(null===p||void 0===p?void 0:p.carId.name),condition:!!g||p}),t>=2&&Object(v.jsxs)("div",{children:[Object(v.jsx)(be,{title:"\u0426\u0432\u0435\u0442",text:N||(null===p||void 0===p?void 0:p.color),condition:!!N||p}),Object(v.jsx)(be,{title:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",text:(null===o||void 0===o?void 0:o.d)+"\u0434. "+(null===o||void 0===o?void 0:o.h)+"\u0447. "+(null===o||void 0===o?void 0:o.m)+"\u043c.",condition:!!o}),Object(v.jsx)(be,{title:"\u0422\u0430\u0440\u0438\u0444",text:(null===C||void 0===C?void 0:C.rateTypeId.name)||(null===p||void 0===p?void 0:p.rateId.rateTypeId.name),condition:!!C||p}),(E||(null===p||void 0===p?void 0:p.isFullTank))&&Object(v.jsx)(be,{title:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",text:"\u0414\u0430",condition:!0}),(T||(null===p||void 0===p?void 0:p.isNeedChildChair))&&Object(v.jsx)(be,{title:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",text:"\u0414\u0430",condition:!0}),(P||(null===p||void 0===p?void 0:p.isRightWheel))&&Object(v.jsx)(be,{title:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",text:"\u0414\u0430",condition:!0})]}),t>=1&&Object(v.jsxs)("p",{className:"chequePrice",children:["\u0426\u0435\u043d\u0430: ",S||Math.trunc(null===p||void 0===p?void 0:p.price),"\u20bd"]}),r.orderID?Object(v.jsx)("button",{className:"defaultButton orderPageButton cancelButton",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(v.jsx)(Oe,{currentStep:t,updateCurrentStep:n,setIsModalOpen:a,isDisabled:0===t?!m||!x:1===t?!g:2===t&&(!N||!y||!C)})]})},fe=n(286),pe=n(279),me=n(281),ve=(n(272),function(e){return{type:"CARS/SET_CARS",payload:e}}),xe=function(e){return{type:"CARS/SET_CATEGORIES",payload:e}},ge={cars:[],categories:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARS/SET_CARS":return Object(q.a)(Object(q.a)({},e),{},{cars:t.payload});case"CARS/SET_CATEGORIES":return Object(q.a)(Object(q.a)({},e),{},{categories:t.payload});default:return e}},Ne=function(){var e=Object(c.useState)(1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),l=i[0],d=i[1],j=Object(R.c)((function(e){return e.orderPageCar})),b=Object(R.c)((function(e){return e.cheque.chequeData.car})),O=j.cars,h=j.categories,f=Object(R.b)();return Object(c.useEffect)((function(){f(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:n=e.sent,t(xe(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,t(ve(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.useEffect)((function(){d(O)}),[O]),Object(c.useEffect)((function(){d(O);var e=[];"all"!==n&&(e=O.filter((function(e){var t;return(null===(t=e.categoryId)||void 0===t?void 0:t.name)===n})),d(e))}),[n]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(fe.a.Group,{name:"radiogroup",defaultValue:n,className:"radioGroup",onChange:function(e){return a(e.target.value)},children:[Object(v.jsx)(fe.a,{value:"all",children:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"}),h.map((function(e){return Object(v.jsx)(fe.a,{value:e.name,children:e.name},e.id)}))]})}),0===O.length&&Object(v.jsx)(pe.a,{tip:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445... \u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f 40 \u0441\u0435\u043a",size:"large"}),Object(v.jsx)(s.a,{className:"carCardContainer",children:l.map((function(e){return e.thumbnail.path&&Object(v.jsx)(o.a,{children:Object(v.jsxs)(me.a,{className:e.id===(null===b||void 0===b?void 0:b.id)?"carCard carCardSelected":"carCard",onClick:function(){f(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(F(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"carName",children:e.name.toUpperCase()}),Object(v.jsxs)("p",{className:"carPrice",children:[e.priceMin," - ",e.priceMax," \u20bd"]})]}),Object(v.jsx)("img",{className:"carCardImage",src:e.thumbnail.path,alt:e.description})]})},e.id)}))})]})},ye=(n(273),n(21)),Ee=n(280),Te=n(287),Pe=n(159),Se=function(e){return{type:"ADDON/SET_TARIFFS",payload:e}},De={tariffs:[]},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return"ADDON/SET_TARIFFS"===t.type?Object(q.a)(Object(q.a)({},e),{},{tariffs:t.payload}):e},ke=function(e){var t=e.isMobile,n=Object(R.c)((function(e){return e.cheque.chequeData})),a=Object(R.c)((function(e){return e.orderPageAddons.tariffs})),r=n.car,i=n.isFullTank,s=n.isNeedChildChair,o=n.isRightWheel,u=Object(R.b)();return Object(c.useEffect)((function(){u(function(){var e=Object(_.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:n=e.sent,t(Se(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),console.log(i,s,o),Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"pickerTitle",children:"\u0426\u0432\u0435\u0442"}),Object(v.jsx)(fe.a.Group,{children:null===r||void 0===r?void 0:r.colors.map((function(e,t){return Object(v.jsx)(fe.a,{value:e,onClick:function(){return u(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(G(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},children:e},t)}))}),Object(v.jsx)("p",{className:"pickerTitle",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(v.jsx)(ye.a,{locale:Pe.a,children:Object(v.jsx)(Ee.a.RangePicker,{className:"dateTimePicker",size:t&&"small",showTime:!0,placeholder:["\u0414\u0430\u0442\u0430-\u0432\u0440\u0435\u043c\u044f \u0421","\u0414\u0430\u0442\u0430-\u0432\u0440\u0435\u043c\u044f \u0414\u043e"],onChange:function(e){var t;u((t=e,function(){var e=Object(_.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(L(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})}),Object(v.jsx)("p",{className:"pickerTitle",children:"\u0422\u0430\u0440\u0438\u0444"}),Object(v.jsx)(fe.a.Group,{children:Object(v.jsx)(b.b,{direction:"vertical",children:a.map((function(e){return Object(v.jsxs)(fe.a,{value:e.rateTypeId.name,onClick:function(){return u(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(H(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},children:[e.rateTypeId.name,", ",e.price,"\u20bd/",e.rateTypeId.unit]},e.id)}))})}),Object(v.jsx)("p",{className:"pickerTitle",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(v.jsxs)(b.b,{direction:"vertical",children:[Object(v.jsxs)(Te.a,{value:1,checked:i,onChange:function(e){var t=e.target.checked?500:0;u(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Q(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:["\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, ",500,"\u0440"]}),Object(v.jsxs)(Te.a,{value:2,checked:s,onChange:function(e){var t=e.target.checked?200:0;u(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(M(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:["\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, ",200,"\u0440"]}),Object(v.jsxs)(Te.a,{value:3,checked:o,onChange:function(e){var t=e.target.checked?1600:0;u(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(W(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:["\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, ",1600,"\u0440"]})]})]})},qe=(n(274),function(e){var t=e.urlParams,n=Object(R.c)((function(e){return e.cheque.chequeData})),c=Object(R.c)((function(e){return e.cheque.order})),a=n.car,r=n.date,i=(null===a||void 0===a?void 0:a.number)?we((null===a||void 0===a?void 0:a.number)||"ERROR"):we((null===c||void 0===c?void 0:c.carId.number)||"ERROR"),s=new Date(null===c||void 0===c?void 0:c.dateFrom),o=r?r[0].toDate().toLocaleString("ru-RU"):s.toLocaleString("ru-RU");return Object(v.jsxs)("div",{className:"totalContainer",children:[Object(v.jsxs)("div",{children:[!!t.orderID&&Object(v.jsx)("p",{className:"confirmed",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"}),Object(v.jsx)("p",{className:"totalCar",children:null===a||void 0===a?void 0:a.name}),Object(v.jsx)("div",{className:"totalCarNumber",children:Object(v.jsx)("p",{className:"totalCarNumberContent",children:i.toUpperCase()})}),Object(v.jsxs)("p",{className:"totalTank",children:[Object(v.jsx)("b",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e"})," ",(null===a||void 0===a?void 0:a.tank)||(null===c||void 0===c?void 0:c.carId.tank)||0,"%"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441"})," ",o]})]}),Object(v.jsx)("img",{className:"totalCarImage",src:(null===a||void 0===a?void 0:a.thumbnail.path)||(null===c||void 0===c?void 0:c.carId.thumbnail.path),alt:"CarImage"})]})}),we=function(e){return e.substr(0,1)+" "+e.substr(1,3)+" "+e.substr(4,2)},Re=(n(275),function(e){var t=e.setIsModalOpen,n=Object(R.c)((function(e){return e.cheque.chequeData})),c=Object(R.c)((function(e){return e.cheque.chequePrices})),a=n.city,r=n.address,i=n.car,s=n.color,o=n.date,u=n.tariff,l=n.isFullTank,d=n.isNeedChildChair,j=n.isRightWheel,b=c.carPrice,O=c.tankPrice,h=c.childChairPrice,f=c.rightWheelPrice,p=Object(R.b)(),m=function(){t(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"modalShadow",onClick:m}),Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("p",{className:"modalTitle",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(v.jsxs)("div",{className:"modalFooter",children:[Object(v.jsx)("button",{className:"modalButton confirmButton",onClick:function(){var e={orderStatusId:"5e26a191099b810b946c5d89",cityId:a.id,pointId:r.id,carId:i.id,color:s,dateFrom:o[0].toDate().getTime(),dateTo:o[1].toDate().getTime(),rateId:u.id,price:b+O+h+f+u.price*((o[1].toDate().getTime()-o[0].toDate().getTime())/6e4),isFullTank:l,isNeedChildChair:d,isRightWheel:j};p(function(e){return function(){var t=Object(_.a)(U.a.mark((function t(n){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:200===(c=t.sent).status?n(ae(c.data.data.id)):console.log("Some Error Occurred");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t(!1)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(v.jsx)("button",{className:"modalButton cancelButton",onClick:m,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})]})]})}),Ae=function(){var e=Object(D.h)(),t=Object(D.g)(),n=Object(c.useState)(0),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!0),d=Object(u.a)(o,2),j=d[0],b=d[1],O=Object(c.useState)(!0),h=Object(u.a)(O,2),f=h[0],p=h[1],m=Object(c.useState)(!1),g=Object(u.a)(m,2),C=g[0],N=g[1],E=Object(R.c)((function(e){return e.cheque.order})),T=Object(R.c)((function(e){return e.cheque.chequeData})),P=l.a.useBreakpoint(),S=Object(R.b)();Object(c.useEffect)((function(){S(ae(e.orderID))}),[]),Object(c.useEffect)((function(){P.sm?b(!1):b(!0),P.lg?p(!1):p(!0)}),[P]),Object(c.useEffect)((function(){null!==E&&(t.push("/orderPage/".concat(null===E||void 0===E?void 0:E.id)),s(3))}),[E]);return Object(v.jsxs)(i.a,{className:"layout",children:[Object(v.jsx)(x,{}),Object(v.jsxs)(i.a,{children:[Object(v.jsx)(y,{}),e.orderID?Object(v.jsxs)("p",{className:"orderNumber",children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ",e.orderID]}):Object(v.jsxs)(I.a,{current:r,responsive:!0,className:"orderPageStepper",onChange:function(e){(e<=r||1===e&&T.city&&T.address||2===e&&T.car||3===e&&T.color&&T.date&&T.tariff)&&s(e)},children:[Object(v.jsx)(I.a.Step,{title:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(v.jsx)(I.a.Step,{title:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(v.jsx)(I.a.Step,{title:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),Object(v.jsx)(I.a.Step,{title:"\u0418\u0442\u043e\u0433\u043e"})]}),Object(v.jsxs)(i.a,{children:[Object(v.jsxs)(i.a.Content,{className:"orderPageContent",children:[0===r&&Object(v.jsx)(de,{}),1===r&&Object(v.jsx)(Ne,{}),2===r&&Object(v.jsx)(ke,{isMobile:j}),3===r&&Object(v.jsx)(qe,{urlParams:e})]}),!j&&Object(v.jsx)(i.a.Sider,{className:"orderPageSider",width:f?"40%":"35%",children:Object(v.jsx)(he,{currentStep:r,updateCurrentStep:s,setIsModalOpen:N,urlParams:e})})]}),j&&Object(v.jsx)(he,{currentStep:r,updateCurrentStep:s,setIsModalOpen:N,urlParams:e})]}),C&&Object(v.jsx)(Re,{setIsModalOpen:N})]})},Ue=function(){return Object(v.jsxs)(D.d,{children:[Object(v.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(v.jsx)(D.a,{to:"/startPage"})}}),Object(v.jsx)(D.b,{path:"/startPage",render:function(){return Object(v.jsx)(S,{})}}),Object(v.jsx)(D.b,{path:"/orderPage/:orderID?",render:function(){return Object(v.jsx)(Ae,{})}})]})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,294)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Be=n(118),Fe=n(155),He=Object(Be.b)({orderPageLocation:le,orderPageCar:Ce,orderPageAddons:Ie,cheque:re}),Ge=Object(Be.c)(He,Object(Be.a)(Fe.a));r.a.render(Object(v.jsx)(R.a,{store:Ge,children:Object(v.jsx)(E.a,{children:Object(v.jsx)(Ue,{})})}),document.getElementById("root")),_e()}},[[276,1,2]]]);
//# sourceMappingURL=main.f5a78c4e.chunk.js.map